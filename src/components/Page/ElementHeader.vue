<template>
  <header>
    <section class="section header">
      <div class="container">
        <div class="centered">
          <a
              href="/"
              class="logo"
          >
            <img
                class="logo"
                id="logo"
                alt="Логотип компании Славный сыровар."
                src="/allImage/logo/logo_no_text.png"
            />
          </a>
          <nav class="header-nav">
            <transition name="fade">
              <div
                  class="header-list-mobile"
                  v-show="menuMobile"
              >
                <router-link
                    class="header-link"
                    to="/products"
                >Продукция
                </router-link>
                <router-link
                    class="header-link"
                    to="/seller-orders"
                    v-if="isSeller"
                >Продавец
                </router-link>
                <router-link
                    class="header-link"
                    to="/admin"
                    v-if="isAdminAuth"
                >Администратор
                </router-link>
                <router-link
                    class="header-link"
                    to="/cheesemaker"
                    v-if="isCheesemakerAuth"
                >Сыровар
                </router-link>
                <router-link
                    class="header-link"
                    to="/cheesemaker-orders"
                    v-if="isCheesemakerAuth || isAdminAuth"
                >Заказы
                </router-link>
                <report
                    v-if="isCheesemakerAuth || isAdminAuth"
                />
                <router-link
                    class="header-link"
                    to="/delivery"
                >Адреса
                </router-link>
              </div>
            </transition>
            <div class="header-list desctop">
              <router-link
                  class="header-link"
                  to="/products"
              >Продукция
              </router-link>
              <router-link
                  class="header-link"
                  to="/seller-orders"
                  v-if="isSeller"
              >Продавец
              </router-link>
              <router-link
                  class="header-link"
                  to="/admin"
                  v-if="isAdminAuth"
              >Администратор
              </router-link>
              <router-link
                  class="header-link"
                  to="/cheesemaker"
                  v-if="isCheesemakerAuth"
              >Сыровар
              </router-link>
              <router-link
                  class="header-link"
                  to="/cheesemaker-orders"
                  v-if="isCheesemakerAuth || isAdminAuth"
              >Заказы
              </router-link>
              <report
              />
              <router-link
                  class="header-link"
                  to="/delivery">
                Адреса
              </router-link>
            </div>
            <div class="header-list-item">
              <div class="header-list-item-item">
                <a class="header-link-icon">
                  <svg
                      xmlns="http://www.w3.org/2000/svg"
                      style="color: #372311"
                      class="header-link-icon-svg"
                      @click="toggleLogin"
                      fill="currentColor"
                      viewBox="0 0 16 16"
                  >
                    <path
                        d="M8 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm2-3a2 2 0 1 1-4 0 2 2 0 0 1 4 0zm4 8c0 1-1 1-1 1H3s-1 0-1-1 1-4 6-4 6 3 6 4zm-1-.004c-.001-.246-.154-.986-.832-1.664C11.516 10.68 10.289 10 8 10c-2.29 0-3.516.68-4.168 1.332-.678.678-.83 1.418-.832 1.664h10z"/>
                  </svg>
                </a>
              </div>
              <router-link
                  v-if="this.$cookies.get('fio') != null"
                  to="/cart"
                  class="header-link-icon">
                <svg
                    xmlns="http://www.w3.org/2000/svg"
                    viewBox="0 0 191.6 175.82"
                    style="enable-background: new 0 0 191.6 175.82" xml:space="preserve"
                    class="header-link-icon-svg">
                  <g>
                    <g>
                      <path class="st0" d="M183.2,75.84h-10.03c0.1-0.7,0.2-1.39,0.3-2.08c0.34-2.36,0.67-4.59,0.85-6.89
			c0.59-7.23-0.48-13.28-3.25-18.5c-2.43-4.58-5.86-7.11-10.18-7.52c-1.9-0.18-3.83,0.11-5.7,0.4c-0.59,0.09-1.18,0.18-1.77,0.26
			l-0.17-0.46c-2.47-6.73-5.59-11.68-9.81-15.58c-8.23-7.62-19.69-8.18-28.55-1.41c-0.04-0.16-0.07-0.33-0.11-0.49
			c-0.43-1.89-0.62-3.03,0.49-4.28c0.71-0.8,0.72-2.03,0.74-3.01v-0.11c0.05-2.92,0.04-5.88,0.02-8.74V6.52
			c-0.02-4.11-2.25-6.41-6.29-6.46c-5.92-0.08-11.38-0.08-16.69,0c-3.88,0.06-6.06,2.27-6.11,6.21l-0.02,1.26
			c-0.04,2.7-0.09,5.49,0.06,8.25c0.06,1.05,0.41,2.02,0.75,2.97c0.16,0.45,0.32,0.91,0.45,1.37l0.07,0.25
			c0.12,0.44,0.25,0.92,0.2,1.22c-0.25,1.31-0.55,2.65-0.84,3.95c-0.25,1.08-0.49,2.16-0.71,3.25c-0.19,0.95-0.39,1.19-1.63,1.2
			c-9.75-0.07-19.66-0.05-29.24-0.04l-6.15,0.01c-0.76,0-1.62,0-2.44,0.23c-1.8,0.5-2.79,1.87-2.72,3.75
			c0.07,1.9,1.15,3.19,2.98,3.55c0.83,0.16,1.67,0.18,2.39,0.18c8.64,0.01,17.28,0.01,25.92,0.01H83c-0.42,0.75-0.8,1.4-1.17,2.06
			c-1.94,3.44-2.93,7.04-2.95,10.7c0,0.6,0.01,1.2,0.01,1.8c0.02,1.28,0.04,2.6-0.05,3.87c-0.05,0.67-0.33,1.42-0.7,1.86
			c-3.17,3.8-4.88,7.74-5.22,12.07c-0.12,1.54-0.09,3.11-0.06,4.62c0.01,0.36,0.02,0.72,0.02,1.08H24.22l-0.01-10.93
			c0-8.88,0-17.75-0.03-26.63c0-0.3,0.05-0.41,0.05-0.43c0.03-0.02,0.2-0.08,0.69-0.08c3.24,0.02,6.42,0.02,9.45,0
			c4.12-0.03,4.75-2.41,4.76-3.83c0-1.06-0.34-1.97-1-2.63c-0.81-0.83-2.06-1.25-3.72-1.26c-2.43-0.01-4.86-0.01-7.3,0h-1.77
			c-5.88,0-8.74,2.83-8.74,8.65c-0.01,8.38-0.01,16.76-0.01,25.14l0.01,12.1c-0.57,0.01-1.12,0.02-1.67,0.03
			c-1.88,0.03-3.66,0.05-5.42-0.06c-4.54-0.3-7.72,1.52-9.43,5.41L0,81.42v15.24l0.09,0.2c1.79,3.82,4.78,5.6,8.93,5.28h0.15
			c0.04,0.14,0.06,0.41,0.07,0.64l0.13,1.66c0.12,1.6,0.24,3.2,0.38,4.8c0.35,3.75,0.7,7.49,1.05,11.24
			c0.48,5.09,0.96,10.18,1.42,15.27c0.27,2.95,0.52,5.91,0.77,8.86c0.5,5.79,1.01,11.79,1.64,17.67c0.2,1.92,0.74,4.73,2.14,7.19
			c2.43,4.27,6.57,6.35,12.64,6.35c0.01,0,0.02,0,0.02,0c28.19-0.02,56.38-0.02,84.57-0.02h48.17c0.97,0,2-0.07,3.25-0.22
			c5.77-0.66,10.62-5.35,11.29-10.9c0.47-3.91,0.81-7.9,1.14-11.75c0.13-1.49,0.26-2.99,0.4-4.48c0.32-3.59,0.64-7.18,0.96-10.77
			c0.34-3.78,0.68-7.55,1.03-11.33c0.2-2.26,0.41-4.52,0.63-6.79c0.49-5.2,0.99-10.57,1.4-15.87c0.12-1.54,0.2-1.63,1.49-1.6
			c2.28,0.02,4.19-0.67,5.58-2.04c1.47-1.44,2.25-3.51,2.25-5.98c0.01-2.95,0.01-5.89,0.01-8.83v-0.99
			C191.59,78.84,188.61,75.85,183.2,75.84z M155.83,51.59l-0.15-1c-0.18-1.24-0.04-1.5,1.03-1.84c2.96-0.96,5.08-0.31,6.86,2.1
			c1.72,2.3,2.68,5.15,3.03,8.97c0.5,5.48,0.03,10.7-1.38,15.53c-0.04,0.12-0.25,0.35-0.39,0.44c-2.76,0.07-5.48,0.06-8.11,0.05
			h-1.13c0.1-1.24,0.22-2.47,0.33-3.7c0.34-3.64,0.69-7.41,0.78-11.13C156.77,57.85,156.29,54.67,155.83,51.59z M112.64,57.79
			c1.02-0.92,1.97-1.79,3.01-2.54c2.72-1.98,3.1-3.78,1.36-6.43c-3.25-4.96-3.48-9.95-0.68-14.84c2.82-4.93,7.17-7.25,12.97-6.89
			c4.64,0.28,8.43,2.6,11.93,7.31c3.55,4.77,5.8,10.47,7.1,17.95c1.39,7.99,1.12,15.41-0.82,22.66c-0.23,0.87-0.32,0.87-0.96,0.86
			c-1.86-0.04-3.75-0.05-5.63-0.05c-1.16,0-2.32,0.01-3.47,0.01c-0.8,0-1.61,0.01-2.42,0.01c0.03-0.27,0.06-0.55,0.08-0.81
			c0.17-1.62,0.33-3.15,0.58-4.63c0,0,0.1-0.27,0.82-0.78c4.01-2.83,6.88-6.52,8.52-10.96c0.53-1.42,0.55-2.73,0.06-3.77
			c-0.4-0.86-1.13-1.5-2.09-1.84c-0.97-0.35-3.39-0.77-5.09,2.73c-0.69,1.43-1.51,2.84-2.3,4.21l-0.14-0.79
			c-0.55-2.98-1.11-6.05-1.6-9.05c0.01-0.13,0.19-0.48,0.31-0.69c0.07-0.14,0.14-0.27,0.21-0.4c0.42-0.88,0.87-1.76,1.31-2.63
			c0.91-1.79,1.85-3.64,2.64-5.54c0.52-1.25,0.55-2.46,0.06-3.48c-0.43-0.92-1.25-1.61-2.31-1.93c-2.22-0.68-4.03,0.4-4.94,2.98
			c-0.24,0.66-0.49,1.3-0.76,1.99c-0.53-1.05-1.01-2.02-1.53-2.97c-0.67-1.24-1.59-2.06-2.67-2.36c-0.92-0.26-1.89-0.12-2.81,0.41
			c-1.99,1.15-2.47,3.27-1.25,5.52c2.26,4.15,3.73,8.35,4.49,12.76c-0.65-0.61-1.29-1.23-1.93-1.87c-0.99-0.98-2.17-1.49-3.37-1.41
			c-1.02,0.06-1.95,0.57-2.62,1.42c-0.88,1.13-1.55,2.93,0.3,5.11c2.4,2.84,5.25,5.05,8.45,6.57c0.23,0.11,0.51,0.35,0.61,0.5
			c-0.12,3.22-0.31,6.51-0.5,9.69l-0.12,1.93h-10.67c0.78-6.49-0.81-12.18-4.84-17.32C112.17,58.22,112.4,58,112.64,57.79z
			 M94.68,7.83h2.93c0.01,0.1,0.02,0.21,0.02,0.31c0.12,1.76,0.29,4.7,4.14,4.59c2.6-0.08,3.24-2.17,3.55-4.84h2.95v6.71H94.68V7.83
			z M88.39,43.65c5.02-9.1,5.99-11.68,7.69-21.17h10.62l0.4,1.66c0.59,2.44,1.2,4.96,1.74,7.42c0.01,0.12-0.15,0.47-0.24,0.68
			l-0.13,0.32c-2.36,5.81-2.24,11.63,0.36,17.28c0.35,0.76,0.33,0.77-0.09,1.07c-0.8,0.56-1.55,1.19-2.33,1.85
			c-0.19,0.16-0.39,0.33-0.59,0.5c-3.44-1.94-7.08-2.91-10.82-2.91c-2.82,0-5.69,0.55-8.56,1.66
			C86.39,48.82,87.02,46.13,88.39,43.65z M86.21,60.93c4.85-3.68,11.54-3.86,16.66-0.47c5.03,3.34,7.3,9.15,6.03,15.3H80.82
			C79.36,70.4,81.48,64.52,86.21,60.93z M184.05,93.95c0,0.3-0.05,0.42-0.04,0.43c-0.02,0-0.11,0.04-0.34,0.02
			c-0.39-0.01-0.78-0.01-1.18,0H166.5c-28.36,0-56.72,0-85.07,0.01c-0.96,0-1.89,0.02-2.8,0.24c-1.78,0.42-2.83,1.8-2.81,3.69
			c0.03,1.9,1.09,3.22,2.92,3.61c0.87,0.19,1.74,0.19,2.6,0.19c26.43,0.01,52.87,0.01,79.31,0.01h14.08l-0.05,0.72
			c-0.08,1.22-0.16,2.4-0.27,3.58c-0.45,4.9-0.91,9.8-1.37,14.7c-0.49,5.29-0.98,10.58-1.47,15.86c-0.77,8.33-1.56,16.94-2.29,25.42
			c-0.31,3.64-2.44,5.64-6,5.64c-44.99,0.01-89.98,0.01-134.97,0c-3.54,0-5.67-2-6-5.63c-0.66-7.38-1.35-14.75-2.03-22.13
			c-0.4-4.22-0.79-8.45-1.18-12.67c-0.73-7.91-1.44-15.82-2.16-23.74l-0.12-1.31c-0.01-0.14-0.01-0.28-0.01-0.44h48.08
			c1.31,0,5.28,0,5.34-3.8c0.02-1.09-0.3-1.97-0.95-2.63c-0.88-0.9-2.31-1.32-4.48-1.32H9.07c-0.59,0-1.2,0-1.47-0.05
			c-0.05-0.27-0.05-0.9-0.05-1.52c0-0.83,0.01-1.66,0.01-2.49c0.02-1.92,0.03-3.91-0.04-5.87c-0.02-0.69,0.12-0.86,0.15-0.89
			c0.03-0.02,0.2-0.15,0.84-0.1c0.33,0.03,0.66,0.02,0.99,0.02l0.39-0.01h171.82c0.21,0,0.43-0.02,0.66-0.03
			c0.25-0.03,0.63-0.06,0.74-0.01c0.38,0.18,0.75,0.48,0.87,0.64c0.08,2.23,0.08,4.5,0.07,6.7
			C184.05,91.84,184.04,92.9,184.05,93.95z"/>
                    </g>
                    <g>
                      <path class="st0" d="M61.13,47.02c-0.14-3.52-2.35-5.73-5.77-5.78c-6.28-0.09-12.83-0.09-19.46,0c-3.35,0.04-5.61,2.23-5.77,5.56
			c-0.14,3.19-0.14,6.27,0.02,9.17c0.17,3.32,2.53,5.49,6.01,5.52c1.25,0.01,2.49,0.02,3.74,0.02c0.95,0,1.9-0.01,2.86-0.01h5.59
			c2.17,0,4.34,0.01,6.52-0.01c3.79-0.02,6.13-2.22,6.26-5.89C61.23,52.7,61.23,49.81,61.13,47.02z M53.29,49.04v4.71H37.91v-4.71
			H53.29z"/>
                    </g>
                    <g>
                      <path class="st0" d="M119.48,129.77c0.03-4.29,0.05-8.74-0.05-13.11c-0.12-4.93-4.1-8.75-9.09-8.75h-0.13
			c-5.06,0.07-9.04,4-9.06,8.96c-0.07,12.83-0.04,25.75-0.01,36.85c0.01,2.64,1.12,4.98,3.21,6.75c1.78,1.51,3.75,2.27,5.82,2.27
			c1.2,0,2.44-0.25,3.69-0.77c3.52-1.47,5.49-4.26,5.56-7.88c0.08-4.41,0.06-8.89,0.05-13.22c-0.01-1.5-0.02-2.99-0.02-4.49l0.02-1
			C119.47,133.51,119.48,131.64,119.48,129.77z M111.86,140.4c0,4.27,0,8.54-0.01,12.81c-0.01,0.64-0.19,1.17-0.53,1.5
			c-0.25,0.23-0.55,0.35-0.94,0.34c-0.73-0.03-1.44-0.25-1.6-1.72c-0.01-0.08-0.02-0.17-0.02-0.26v-8.57
			c0-8.98-0.01-17.96,0.02-26.94c0-1.99,1.16-2,1.54-2h0.01c0.46,0,0.8,0.11,1.02,0.33c0.33,0.33,0.5,0.95,0.5,1.81
			c0.01,4.18,0.01,8.37,0.01,12.55V140.4z"/>
                    </g>
                    <g>
                      <path class="st0" d="M90.46,117.09c-0.01-3.09-1.33-5.67-3.83-7.45c-2.86-2.04-6.05-2.34-9.22-0.87
			c-3.32,1.54-5.17,4.27-5.23,7.68c-0.08,4.41-0.06,8.9-0.05,13.23c0.01,1.5,0.01,2.99,0.01,4.48l-0.01,1
			c0,1.87-0.01,3.74-0.02,5.62c-0.03,4.29-0.05,8.73,0.05,13.1c0.12,5.03,4.04,8.78,9.18,8.77h0.19c4.98-0.09,8.91-4.08,8.93-9.08
			C90.51,140.69,90.49,127.9,90.46,117.09z M80.31,154.73c-0.37-0.37-0.57-1.08-0.57-2.02v-34.96c0.01-2.17,0.94-2.18,1.5-2.19
			c0.47,0.02,0.82,0.11,1.07,0.35c0.33,0.33,0.51,0.95,0.51,1.78c0.03,11.14,0.03,22.64,0.01,35.15c-0.01,1.46-0.53,2.21-1.55,2.22
			C80.87,155.06,80.54,154.96,80.31,154.73z"/>
                    </g>
                    <g>
                      <path class="st0" d="M61.39,140.9c-0.01-1.8-0.02-3.59-0.02-5.39l-0.04-0.98c0.01-1.56,0.02-3.13,0.03-4.69
			c0.02-4.34,0.05-8.82-0.07-13.24c-0.13-4.91-4.09-8.69-9.07-8.69h-0.2c-5.03,0.1-8.99,4.06-9.01,9.02
			c-0.07,12.86-0.04,25.75-0.01,36.66c0.01,3.88,2.41,7.24,6.1,8.57c1.06,0.38,2.14,0.57,3.2,0.57c1.78,0,3.51-0.53,5-1.56
			c2.52-1.73,3.99-4.6,4.05-7.87C61.42,149.16,61.4,144.96,61.39,140.9z M53.73,139.8c0.01,4.4,0.02,8.96-0.08,13.43
			c-0.02,0.5-0.61,1.39-1.08,1.66c-0.23,0.07-1.05-0.14-1.55-0.5c-0.14-0.13-0.35-0.73-0.35-1.36c-0.05-11.27-0.05-22.89-0.02-35.51
			c0-0.72,0.18-1.28,0.5-1.6c0.24-0.24,0.59-0.36,1.04-0.36c0.01,0,0.02,0,0.02,0c0.45,0,1.5,0.01,1.5,1.99
			c0.02,4.32,0.01,8.64,0.01,12.96v4.8C53.72,136.81,53.72,138.3,53.73,139.8z"/>
                    </g>
                    <g>
                      <path class="st0" d="M148.59,153.62c-0.05,4.37-3.36,8.3-7.55,8.95c-0.53,0.08-1.06,0.12-1.57,0.12c-4.06,0-7.56-2.48-8.81-6.4
			c-0.25-0.8-0.39-1.65-0.39-2.47c-0.04-4.27-0.07-8.84-0.03-13.35c0.01-1.3,0.44-2.39,1.23-3.15c0.7-0.66,1.67-1.01,2.69-0.96
			c2.2,0.08,3.69,1.81,3.7,4.31c0.02,2.34,0.02,4.68,0.02,7.02c-0.01,1.73-0.01,3.46,0,5.2c0,0.82,0.2,1.47,0.55,1.83
			c0.24,0.23,0.58,0.34,0.98,0.34c1.26-0.01,1.53-1.11,1.54-2.03c0.02-12.3,0.02-24.26-0.01-35.54c0-0.71-0.17-1.25-0.5-1.57
			c-0.25-0.25-0.6-0.37-1.08-0.36c-0.48,0.01-1.47,0.03-1.48,2.04c-0.01,1.37-0.01,2.74,0,4.11c0,1.59,0,3.18-0.01,4.77
			c-0.03,2.67-1.5,4.33-3.84,4.33H134c-2.32-0.01-3.73-1.58-3.76-4.19l-0.01-0.23c-0.04-3.09-0.08-6.29,0.03-9.44
			c0.18-5.27,4.16-9.14,9.33-9.04c5.11,0.11,8.98,4.16,9.01,9.41c0.03,4.27,0.02,8.55,0.02,12.83l-0.01,5.13
			c0,1.84,0,3.68,0.01,5.52C148.63,145,148.64,149.34,148.59,153.62z"/>
                    </g>
                  </g>
                </svg>
              </router-link>
              <a
                  class="header-link-icon menu"
                  @click="toggleMenu"
                  v-click-outside="onClickOutsideMenu"
              >
                <svg
                    xmlns="http://www.w3.org/2000/svg"
                    viewBox="0 0 150.4 134.46"
                    xml:space="preserve"
                    class="header-link-icon-svg"
                >
                  <g>
                    <g>
                      <g id="hINDUH.tif">
                        <g>
                          <path class="st0" d="M117.92,97.41c-4.38,0-8.75,0-13.13,0L91.68,97.4l-12.87,0c-10.51,0-21.02,0.01-31.53-0.02
					c-4.76-0.01-8.4-1.27-10.82-3.74c-2.16-2.2-3.22-5.21-3.15-8.94c0.14-7.74,5.17-12.18,13.82-12.2c29.3-0.04,59.35-0.04,89.34,0
					c4.87,0.01,8.39,1.19,10.78,3.61c2.13,2.16,3.18,5.21,3.12,9.07c-0.16,10.58-8.67,12.18-13.74,12.2
					C130.39,97.4,124.15,97.41,117.92,97.41z M91.68,91.64l13.13,0.01c10.6,0,21.2,0.01,31.8-0.02c6.55-0.02,7.93-2.62,7.99-6.52
					c0.03-2.29-0.45-3.9-1.47-4.94c-1.23-1.25-3.48-1.89-6.68-1.89c-29.98-0.04-60.03-0.04-89.32,0c-7,0.01-8.01,3.31-8.06,6.53
					c-0.04,2.13,0.47,3.74,1.51,4.8c1.3,1.33,3.56,2.01,6.72,2.01c10.5,0.03,21.01,0.02,31.51,0.02L91.68,91.64z M65.63,61.51
					c-6.26,0-12.52,0-18.77-0.02c-4.58-0.01-8.07-1.2-10.4-3.54c-2.12-2.13-3.18-5.11-3.16-8.84c0.02-4.57,1.83-12.24,13.67-12.25
					c29.97-0.02,59.94-0.02,89.91,0c4.55,0,8.03,1.18,10.35,3.51c2.12,2.13,3.18,5.11,3.17,8.87c-0.04,10.63-8.55,12.24-13.62,12.25
					c-10.62,0.02-21.23,0.02-31.85,0.01l-13.11,0l-13.09,0C74.36,61.51,69.99,61.51,65.63,61.51z M91.67,42.62
					c-14.9,0-29.8,0.01-44.7,0.02c-6.93,0.01-7.9,3.13-7.92,6.51c-0.01,2.18,0.48,3.73,1.49,4.75c1.21,1.21,3.33,1.83,6.32,1.84
					c10.62,0.02,21.24,0.02,31.86,0.01l13.09,0l13.11,0c10.61,0,21.22,0.01,31.83-0.01c6.51-0.01,7.85-2.61,7.87-6.51
					c0.01-2.2-0.48-3.77-1.49-4.78c-1.19-1.2-3.3-1.81-6.27-1.81C121.8,42.62,106.74,42.62,91.67,42.62z M118.36,25.9
					c-4.43,0-8.84-0.01-13.18-0.01c-4.41-0.01-8.82-0.01-13.23-0.01l-11.88,0.01c-10.84,0.01-21.68,0.01-32.52-0.01
					c-12.31-0.03-14.21-7.75-14.24-12.35c-0.03-3.7,1.05-6.68,3.19-8.84c2.42-2.45,6.1-3.69,10.91-3.69
					c32.09-0.03,61.31-0.03,89.33,0c10.58,0.01,13,6.49,13.51,10.35c0.55,4.23-0.36,7.84-2.62,10.44c-2.29,2.63-5.8,4.03-10.17,4.07
					C131.11,25.88,124.71,25.9,118.36,25.9z M91.94,20.11L91.94,20.11c4.42,0,8.83,0.01,13.24,0.01
					c10.56,0.02,21.48,0.03,32.22-0.05c1.86-0.02,4.39-0.39,5.87-2.09c1.45-1.67,1.48-4.13,1.25-5.91c-0.34-2.63-1.54-5.32-7.8-5.33
					c-28.02-0.03-57.23-0.03-89.32,0c-3.22,0-5.52,0.67-6.82,1.99c-1.04,1.05-1.54,2.6-1.52,4.74c0.03,3.43,1.07,6.61,8.49,6.63
					c10.83,0.03,21.67,0.02,32.5,0.01L91.94,20.11z"/>
                          <path class="st0" d="M118.27,25.9c-4.33,0-8.64-0.01-12.88-0.01c-4.48-0.01-8.96-0.01-13.44-0.01l-12.52,0.01
					c-10.62,0.01-21.25,0.01-31.87-0.02c-12.31-0.03-14.21-7.75-14.24-12.35c-0.03-3.7,1.05-6.68,3.19-8.84
					c2.42-2.45,6.1-3.69,10.91-3.69c32.09-0.03,61.31-0.03,89.33,0c10.58,0.01,13,6.49,13.51,10.35c0.55,4.23-0.36,7.84-2.62,10.44
					c-2.29,2.63-5.8,4.03-10.17,4.07C131.08,25.89,124.65,25.9,118.27,25.9z M92.46,20.11c4.31,0,8.63,0.01,12.94,0.01
					c10.49,0.02,21.35,0.03,32.01-0.05c1.86-0.02,4.39-0.39,5.87-2.09c1.45-1.67,1.48-4.13,1.25-5.91c-0.34-2.63-1.54-5.32-7.8-5.33
					c-28.02-0.03-57.23-0.03-89.32,0c-3.22,0-5.52,0.67-6.82,1.99c-1.04,1.05-1.54,2.6-1.52,4.74c0.03,3.43,1.07,6.61,8.49,6.63
					c10.62,0.03,21.24,0.02,31.85,0.02l12.53-0.01C92.12,20.11,92.29,20.11,92.46,20.11z"/>
                          <path class="st0" d="M117.92,97.41c-4.38,0-8.75,0-13.13,0L91.68,97.4l-12.87,0c-10.51,0-21.02,0.01-31.53-0.02
					c-4.76-0.01-8.4-1.27-10.82-3.74c-2.16-2.2-3.22-5.21-3.15-8.94c0.14-7.74,5.17-12.18,13.82-12.2c29.3-0.04,59.35-0.04,89.34,0
					c4.87,0.01,8.39,1.19,10.78,3.61c2.13,2.16,3.18,5.21,3.12,9.07c-0.16,10.58-8.67,12.18-13.74,12.2
					C130.39,97.4,124.15,97.41,117.92,97.41z M91.68,91.64l13.13,0.01c10.6,0,21.2,0.01,31.8-0.02c6.55-0.02,7.93-2.62,7.99-6.52
					c0.03-2.29-0.45-3.9-1.47-4.94c-1.23-1.25-3.48-1.89-6.68-1.89c-29.98-0.04-60.03-0.04-89.32,0c-7,0.01-8.01,3.31-8.06,6.53
					c-0.04,2.13,0.47,3.74,1.51,4.8c1.3,1.33,3.56,2.01,6.72,2.01c10.5,0.03,21.01,0.02,31.51,0.02L91.68,91.64z"/>
                          <path class="st0" d="M65.64,61.51c-6.26,0-12.53,0-18.79-0.02c-4.58-0.01-8.07-1.2-10.4-3.54c-2.12-2.13-3.18-5.11-3.16-8.84
					c0.02-4.57,1.83-12.24,13.67-12.25c29.97-0.02,59.94-0.02,89.91,0c4.55,0,8.03,1.18,10.35,3.51c2.12,2.13,3.18,5.11,3.17,8.87
					c-0.04,10.63-8.55,12.24-13.62,12.25c-10.62,0.02-21.23,0.01-31.85,0.01l-13.11,0l-13.09,0C74.36,61.51,70,61.51,65.64,61.51z
					 M91.68,42.62c-14.9,0-29.81,0.01-44.71,0.02c-6.93,0.01-7.9,3.13-7.92,6.51c-0.01,2.18,0.48,3.73,1.49,4.75
					c1.21,1.21,3.33,1.83,6.32,1.84c10.62,0.02,21.24,0.02,31.86,0.01l13.09,0l13.11,0c10.61,0,21.22,0.01,31.83-0.01
					c6.51-0.01,7.85-2.61,7.87-6.51c0.01-2.2-0.48-3.77-1.49-4.78c-1.19-1.2-3.3-1.81-6.27-1.81
					C121.81,42.62,106.74,42.62,91.68,42.62z"/>
                          <path class="st0" d="M13.81,98.71c-0.05,0-0.1,0-0.14,0l0,0c-3.69-0.04-7.1-1.47-9.61-4.04c-2.55-2.62-3.93-6.16-3.87-9.99
					c0.06-3.73,1.56-7.2,4.25-9.75c2.66-2.54,6.16-3.87,9.84-3.74c7.27,0.24,13.39,6.56,13.37,13.79c-0.01,3.65-1.47,7.09-4.12,9.7
					C20.9,97.28,17.45,98.71,13.81,98.71z M13.81,76.94c-2.03,0-3.94,0.76-5.4,2.16c-1.55,1.48-2.43,3.49-2.46,5.67
					c-0.03,2.28,0.76,4.37,2.23,5.88c1.42,1.46,3.39,2.28,5.54,2.3h0c2.18,0,4.2-0.82,5.76-2.36c1.54-1.52,2.39-3.52,2.4-5.62
					c0.01-4.13-3.63-7.88-7.8-8.02C14,76.95,13.91,76.94,13.81,76.94z"/>
                          <path class="st0" d="M13.81,63.14c-0.05,0-0.09,0-0.14,0c-3.69-0.04-7.1-1.47-9.61-4.04c-2.55-2.62-3.93-6.16-3.87-9.99
					c0.06-3.73,1.56-7.2,4.25-9.75c2.66-2.54,6.16-3.86,9.84-3.74c7.27,0.24,13.39,6.56,13.37,13.79c-0.01,3.65-1.47,7.09-4.11,9.7
					C20.9,61.71,17.45,63.14,13.81,63.14z M13.81,41.38c-2.02,0-3.93,0.76-5.4,2.16c-1.55,1.48-2.43,3.49-2.46,5.67
					c-0.03,2.28,0.76,4.37,2.23,5.88c1.42,1.46,3.39,2.28,5.54,2.3l0,0c2.14,0.02,4.2-0.82,5.76-2.36c1.54-1.52,2.39-3.52,2.4-5.62
					c0.01-4.13-3.63-7.88-7.8-8.02C14,41.38,13.9,41.38,13.81,41.38z"/>
                          <path class="st0" d="M13.81,27.19c-0.05,0-0.1,0-0.14,0c-3.69-0.04-7.1-1.47-9.61-4.04c-2.55-2.62-3.93-6.16-3.87-9.98
					c0.06-3.73,1.56-7.2,4.25-9.75c2.66-2.54,6.16-3.87,9.84-3.74c7.27,0.24,13.39,6.56,13.37,13.79c-0.01,3.65-1.47,7.09-4.11,9.7
					C20.9,25.77,17.45,27.19,13.81,27.19z M13.81,5.43c-2.03,0-3.93,0.76-5.4,2.16c-1.55,1.48-2.43,3.49-2.46,5.67
					c-0.03,2.28,0.76,4.36,2.23,5.87c1.42,1.46,3.39,2.28,5.54,2.3l0,0c0.03,0,0.05,0,0.08,0c2.12,0,4.13-0.84,5.68-2.36
					c1.54-1.52,2.39-3.52,2.4-5.62c0.01-4.13-3.63-7.88-7.8-8.02C14,5.43,13.91,5.43,13.81,5.43z"/>
                        </g>
                      </g>
                    </g>
                    <g>
                      <g id="hINDUH.tif_1_">
                        <g>
                          <path class="st0" d="M117.73,133.17c-4.38,0-8.75,0-13.13,0l-13.12-0.01l-12.87,0c-10.51,0-21.02,0.01-31.53-0.02
					c-4.76-0.01-8.4-1.27-10.82-3.74c-2.16-2.2-3.22-5.21-3.15-8.94c0.14-7.74,5.17-12.18,13.82-12.2c29.3-0.04,59.35-0.04,89.34,0
					c4.87,0.01,8.39,1.19,10.78,3.61c2.13,2.16,3.18,5.21,3.12,9.07c-0.16,10.58-8.67,12.18-13.74,12.2
					C130.2,133.16,123.97,133.17,117.73,133.17z M91.49,127.39l13.13,0.01c10.6,0,21.2,0.01,31.8-0.02
					c6.55-0.02,7.93-2.62,7.99-6.52c0.03-2.29-0.45-3.9-1.47-4.94c-1.23-1.25-3.48-1.89-6.68-1.89c-29.98-0.04-60.03-0.04-89.32,0
					c-7,0.01-8.01,3.31-8.06,6.53c-0.04,2.13,0.47,3.74,1.51,4.8c1.3,1.33,3.56,2.01,6.72,2.01c10.5,0.03,21.01,0.02,31.51,0.02
					L91.49,127.39z M65.44,97.27c-6.26,0-12.52,0-18.77-0.02c-4.58-0.01-8.07-1.2-10.4-3.54c-2.12-2.13-3.18-5.11-3.16-8.84
					c0.02-4.57,1.83-12.24,13.67-12.25c29.97-0.02,59.94-0.02,89.91,0c4.55,0,8.03,1.18,10.35,3.51c2.12,2.13,3.18,5.11,3.17,8.87
					c-0.04,10.63-8.55,12.24-13.62,12.25c-10.62,0.02-21.23,0.02-31.85,0.01l-13.11,0l-13.09,0C74.17,97.27,69.8,97.27,65.44,97.27z
					 M91.48,78.37c-14.9,0-29.8,0.01-44.7,0.02c-6.93,0.01-7.9,3.13-7.92,6.51c-0.01,2.18,0.48,3.73,1.49,4.75
					c1.21,1.21,3.33,1.83,6.32,1.84c10.62,0.02,21.24,0.02,31.86,0.01l13.09,0l13.11,0c10.61,0,21.22,0.01,31.83-0.01
					c6.51-0.01,7.85-2.61,7.87-6.51c0.01-2.2-0.48-3.77-1.49-4.78c-1.19-1.2-3.3-1.81-6.27-1.81
					C121.61,78.38,106.55,78.37,91.48,78.37z M118.17,61.66c-4.43,0-8.84-0.01-13.18-0.01c-4.41-0.01-8.82-0.01-13.23-0.01
					l-11.88,0.01c-10.84,0.01-21.68,0.01-32.52-0.01c-12.31-0.03-14.21-7.75-14.24-12.35c-0.03-3.7,1.05-6.68,3.19-8.84
					c2.42-2.45,6.1-3.69,10.91-3.69c32.09-0.03,61.31-0.03,89.33,0c10.58,0.01,13,6.49,13.51,10.35c0.55,4.23-0.36,7.84-2.62,10.44
					c-2.29,2.63-5.8,4.03-10.17,4.07C130.92,61.64,124.52,61.66,118.17,61.66z M91.75,55.87L91.75,55.87
					c4.42,0,8.83,0.01,13.24,0.01c10.56,0.02,21.48,0.03,32.22-0.05c1.86-0.02,4.39-0.39,5.87-2.09c1.45-1.67,1.48-4.13,1.25-5.91
					c-0.34-2.63-1.54-5.32-7.8-5.33c-28.02-0.03-57.23-0.03-89.32,0c-3.22,0-5.52,0.67-6.82,1.99c-1.04,1.05-1.54,2.6-1.52,4.74
					c0.03,3.43,1.07,6.61,8.49,6.63c10.83,0.03,21.67,0.02,32.5,0.01L91.75,55.87z"/>
                          <path class="st0" d="M118.08,61.66c-4.33,0-8.64-0.01-12.88-0.01c-4.48-0.01-8.96-0.01-13.44-0.01l-12.52,0.01
					c-10.62,0.01-21.25,0.01-31.87-0.02c-12.31-0.03-14.21-7.75-14.24-12.35c-0.03-3.7,1.05-6.68,3.19-8.84
					c2.42-2.45,6.1-3.69,10.91-3.69c32.09-0.03,61.31-0.03,89.33,0c10.58,0.01,13,6.49,13.51,10.35c0.55,4.23-0.36,7.84-2.62,10.44
					c-2.29,2.63-5.8,4.03-10.17,4.07C130.89,61.64,124.46,61.66,118.08,61.66z M92.27,55.87c4.31,0,8.63,0.01,12.94,0.01
					c10.49,0.02,21.35,0.03,32.01-0.05c1.86-0.02,4.39-0.39,5.87-2.09c1.45-1.67,1.48-4.13,1.25-5.91c-0.34-2.63-1.54-5.32-7.8-5.33
					c-28.02-0.03-57.23-0.03-89.32,0c-3.22,0-5.52,0.67-6.82,1.99c-1.04,1.05-1.54,2.6-1.52,4.74c0.03,3.43,1.07,6.61,8.49,6.63
					c10.62,0.03,21.24,0.02,31.85,0.02l12.53-0.01C91.93,55.87,92.1,55.87,92.27,55.87z"/>
                          <path class="st0" d="M117.73,133.17c-4.38,0-8.75,0-13.13,0l-13.12-0.01l-12.87,0c-10.51,0-21.02,0.01-31.53-0.02
					c-4.76-0.01-8.4-1.27-10.82-3.74c-2.16-2.2-3.22-5.21-3.15-8.94c0.14-7.74,5.17-12.18,13.82-12.2c29.3-0.04,59.35-0.04,89.34,0
					c4.87,0.01,8.39,1.19,10.78,3.61c2.13,2.16,3.18,5.21,3.12,9.07c-0.16,10.58-8.67,12.18-13.74,12.2
					C130.2,133.16,123.97,133.17,117.73,133.17z M91.49,127.39l13.13,0.01c10.6,0,21.2,0.01,31.8-0.02
					c6.55-0.02,7.93-2.62,7.99-6.52c0.03-2.29-0.45-3.9-1.47-4.94c-1.23-1.25-3.48-1.89-6.68-1.89c-29.98-0.04-60.03-0.04-89.32,0
					c-7,0.01-8.01,3.31-8.06,6.53c-0.04,2.13,0.47,3.74,1.51,4.8c1.3,1.33,3.56,2.01,6.72,2.01c10.5,0.03,21.01,0.02,31.51,0.02
					L91.49,127.39z"/>
                          <path class="st0" d="M65.45,97.27c-6.26,0-12.53,0-18.79-0.02c-4.58-0.01-8.07-1.2-10.4-3.54c-2.12-2.13-3.18-5.11-3.16-8.84
					c0.02-4.57,1.83-12.24,13.67-12.25c29.97-0.02,59.94-0.02,89.91,0c4.55,0,8.03,1.18,10.35,3.51c2.12,2.13,3.18,5.11,3.17,8.87
					c-0.04,10.63-8.55,12.24-13.62,12.25c-10.62,0.02-21.23,0.01-31.85,0.01l-13.11,0l-13.09,0C74.18,97.27,69.81,97.27,65.45,97.27
					z M91.49,78.37c-14.9,0-29.81,0.01-44.71,0.02c-6.93,0.01-7.9,3.13-7.92,6.51c-0.01,2.18,0.48,3.73,1.49,4.75
					c1.21,1.21,3.33,1.83,6.32,1.84c10.62,0.02,21.24,0.02,31.86,0.01l13.09,0l13.11,0c10.61,0,21.22,0.01,31.83-0.01
					c6.51-0.01,7.85-2.61,7.87-6.51c0.01-2.2-0.48-3.77-1.49-4.78c-1.19-1.2-3.3-1.81-6.27-1.81
					C121.62,78.38,106.55,78.37,91.49,78.37z"/>
                          <path class="st0" d="M13.62,134.46c-0.05,0-0.1,0-0.14,0l0,0c-3.69-0.04-7.1-1.47-9.61-4.04c-2.55-2.62-3.93-6.16-3.87-9.99
					c0.06-3.73,1.56-7.2,4.25-9.75c2.66-2.54,6.16-3.87,9.84-3.74c7.27,0.24,13.39,6.56,13.37,13.79c-0.01,3.65-1.47,7.09-4.12,9.7
					C20.71,133.04,17.26,134.46,13.62,134.46z M13.63,112.7c-2.03,0-3.94,0.76-5.4,2.16c-1.55,1.48-2.43,3.49-2.46,5.67
					c-0.03,2.28,0.76,4.37,2.23,5.88c1.42,1.46,3.39,2.28,5.54,2.3h0c2.18,0,4.2-0.82,5.76-2.36c1.54-1.52,2.39-3.52,2.4-5.62
					c0.01-4.13-3.63-7.88-7.8-8.02C13.81,112.7,13.72,112.7,13.63,112.7z"/>
                          <path class="st0" d="M13.62,98.89c-0.05,0-0.09,0-0.14,0c-3.69-0.04-7.1-1.47-9.61-4.04C1.32,92.24-0.06,88.69,0,84.87
					c0.06-3.73,1.56-7.2,4.25-9.75c2.66-2.54,6.16-3.86,9.84-3.74c7.27,0.24,13.39,6.56,13.37,13.79c-0.01,3.65-1.47,7.09-4.11,9.7
					C20.71,97.47,17.26,98.89,13.62,98.89z M13.63,77.13c-2.02,0-3.93,0.76-5.4,2.16c-1.55,1.48-2.43,3.49-2.46,5.67
					C5.73,87.24,6.52,89.32,8,90.83c1.42,1.46,3.39,2.28,5.54,2.3l0,0c2.14,0.02,4.2-0.82,5.76-2.36c1.54-1.52,2.39-3.52,2.4-5.62
					c0.01-4.13-3.63-7.88-7.8-8.02C13.81,77.13,13.72,77.13,13.63,77.13z"/>
                          <path class="st0" d="M13.62,62.95c-0.05,0-0.1,0-0.14,0c-3.69-0.04-7.1-1.47-9.61-4.04C1.32,56.29-0.06,52.75,0,48.93
					c0.06-3.73,1.56-7.2,4.25-9.75c2.66-2.54,6.16-3.87,9.84-3.74c7.27,0.24,13.39,6.56,13.37,13.79c-0.01,3.65-1.47,7.09-4.11,9.7
					C20.71,61.52,17.26,62.95,13.62,62.95z M13.63,41.19c-2.03,0-3.93,0.76-5.4,2.16c-1.55,1.48-2.43,3.49-2.46,5.67
					C5.73,51.29,6.52,53.38,8,54.89c1.42,1.46,3.39,2.28,5.54,2.3l0,0c0.03,0,0.05,0,0.08,0c2.12,0,4.13-0.84,5.68-2.36
					c1.54-1.52,2.39-3.52,2.4-5.62c0.01-4.13-3.63-7.88-7.8-8.02C13.81,41.19,13.72,41.19,13.63,41.19z"/>
                        </g>
                      </g>
                    </g>
                  </g>
                </svg>
              </a>
            </div>
            <transition
                name="fade"
                v-click-outside="onClickOutsideLogin"
            >
              <div
                  class="cart login-pop-up login"
                  id="login-form"
                  v-if="loginBar"
              >
                <div>
                  <div v-if="logIn">
                    <div class="text-centered margin-10-0">
                      <p class="title-3 text-centered">Логин</p>
                      <input
                          type="text"
                          required id="name"
                          class="input"
                          placeholder="Название"
                          v-model="auth.name"
                      />
                    </div>
                    <div class="text-centered">
                      <p class="title-3 text-centered">Пароль</p>
                      <input
                          required
                          type="password"
                          id="name"
                          class="input"
                          placeholder="Название"
                          v-on:keyup.enter="sendAuth"
                          v-model="auth.password"
                      />
                      <p
                          class="paragraph-tiny text-centered text-red"
                          v-if="loginError"
                      >
                        Неверный логин или пароль
                      </p>
                      <p
                          class="paragraph-tiny text-centered text-red"
                          v-if="isLoginEmpty"
                      >
                        Введите логин и пароль
                      </p>
                      <input
                          required
                          class="btn"
                          type="submit"
                          form="login"
                          value="Принять"
                          @click="sendAuth"
                      />
                    </div>
                  </div>
                </div>
                <div
                    v-if="!logIn"
                    class="personal-cabinet_wrap"
                >
                  <div class="margin-10-0">
                    <h3 class="title-3">Добрый день</h3>
                    <h3 class="title-3">{{ fio }}</h3>
                  </div>
                  <button
                      @click="logOut"
                      class="btn"
                  >
                    Выйти
                  </button>
                  <button
                      v-if="activeOrders"
                      @click="isHistoryOrdersVisible"
                      class="btn"
                  >
                    История заказов
                  </button>
                  <button
                      v-if="historyOrders"
                      @click="isHistoryOrdersVisible"
                      class="btn"
                  >
                    Скрыть историю заказов
                  </button>
                  <p class="title-3">Информация о заказах:</p>
                  <div class="flex-reverse">
                    <PersonalCabinet
                        v-for="orders in ORDERS_USERS"
                        :key="orders.id"
                        :orders='orders'
                        ref="PersonalCabinet"
                        :historyOrders='historyOrders'
                        :activeOrders='activeOrders'
                    >
                    </PersonalCabinet>
                  </div>
                </div>
              </div>
            </transition>
          </nav>
        </div>
      </div>
      <div class="border-bottom"></div>
      <div
          class="cart-done"
          v-if="messagePhone"
      >
        <div class="cart cart-sucsess order-title">
          <h2 class="title-2">Пожалуйста, введите свой номер телефона</h2>
          <p
              class="text-red"
              v-if="errorPhone"
          >
            Ошибка! Неверно указан номер.
          </p>
          <input
              class="input"
              type="number"
              v-model="userPhone"
              placeholder="+7**********"
          />
          <input
              class="btn"
              type="button"
              @click="phone"
              value="Применить"
          />
          <p class="paragraph">
            Он будет использоваться только для обработки заказа.
          </p>
          <p class="paragraph">Мы не разглашаем Ваши персональные данные!</p>
        </div>
      </div>
    </section>
  </header>
</template>
<script>
import vClickOutside from 'click-outside-vue3';
import {mapGetters, mapActions} from 'vuex';
import axios from 'axios';
import config from '@/config.js';
import PersonalCabinet from "@/components/Page/PersonalCabinet";
import Report from "@/components/Admin/Report";

export default {
  name: 'ElementHeader',
  components: {Report, PersonalCabinet},
  data() {
    return {
      isAdmin: '',
      loginBar: false,
      menuMobile: false,
      auth: {},
      fio: 'none',
      logIn: true,
      isAdminAuth: false,
      isCheesemakerAuth: false,
      deliveryDateForUser: '',
      messagePhone: false,
      userPhone: '',
      errorPhone: false,
      isSeller: false,
      loginError: false,
      isLoginEmpty: false,
      historyOrders: false,
      activeOrders: true
    };
  },
  computed: {
    ...mapGetters(['ISADMIN', 'CART', 'ORDERS_USERS']),
  },
  mounted() {
    this.isAdmin = this.$store.state.isAdmin;
    this.fio = this.$cookies.get('fio');
    this.hideLogin();
    this.adminVisible();
    this.GET_ORDERS_USERS_FROM_API();
  },
  methods: {
    isHistoryOrdersVisible() {
      this.historyOrders = !this.historyOrders
      this.activeOrders = !this.activeOrders
    },
    phone() {
      let regex =
          /^(\+7|7)?[\s\-]?\(?[489][0-9]{2}\)?[\s\-]?[0-9]{3}[\s\-]?[0-9]{2}[\s\-]?[0-9]{2}$/;
      if (!regex.test(this.userPhone)) {
        return (this.errorPhone = true);
      } else {
        this.addPhoneForUser();
      }
    },
    addPhoneForUser() {
      let user = {
        phone: '+' + this.userPhone,
        role_id: Number(this.$cookies.get('role_id')),
        active: 1,
      }
      this.messagePhone = false;
      axios({
        method: 'PATCH',
        url: `${config.url}/users`,
        data: user,
        headers: {
          authorization: this.$cookies.get('authorization'),
        },
      })
          .then((req) => {
            console.log(user);
            console.log(req);
            this.sendInfo()
          })
          .catch((error) => {
            console.log(error);
            console.log('Ошибка авторизации');
          });
    },
    ...mapActions(['GET_ORDERS_USERS_FROM_API']),
    hideLogin() {
      this.logIn = !this.$cookies.get('fio');
    },
    adminVisible() {
      if (this.$cookies.get('role') === 'Покупатель') {
        this.isAdminAuth = false;
      } else if (this.$cookies.get('role') === 'Сыровар') {
        this.isCheesemakerAuth = true;
        this.isAdminAuth = false;
      } else if (this.$cookies.get('role') === 'Администратор') {
        this.isAdminAuth = true;
        this.isSeller = true
      } else if (this.$cookies.get('role') === 'Продавец') {
        this.isSeller = true
      }
    },
    logOut() {
      this.$cookies.keys().forEach((cookie) => this.$cookies.remove(cookie));
      this.$cookies.set('cookies', '1', '3y')
      window.location.href = `${config.urlHome}`
    },
    sendAuth() {
      if (this.auth.password === '') {
        this.isLoginEmpty = true
      } else {
        axios
            .post(`${config.url}/users/login`, this.auth)
            .then((authRes) => {
              this.$cookies.set(
                  'authorization',
                  authRes.data.token_type + ' ' + authRes.data.access_token,
                  60 * 60 * 23
              );
              this.sendInfo();
            })
            .catch((error) => {
              if (error.response.status === 401) {
                this.loginError = true
                this.isLoginEmpty = false
              } else if (error.response.status === 422) {
                this.isLoginEmpty = true
                this.loginError = false
              }
            });
      }
    },
    sendInfo() {
      axios({
        method: 'GET',
        url: `${config.url}/users/info`,
        headers: {
          authorization: this.$cookies.get('authorization'),
        },
      })
          .then((authRes) => {
            console.log(authRes);
            this.$cookies.set('email', authRes.data.email, 60 * 60 * 23);
            this.$cookies.set('fio', authRes.data.fio, 60 * 60 * 23);
            this.$cookies.set('id', authRes.data.id, 60 * 60 * 23);
            this.$cookies.set('role_id', authRes.data.role_id, 60 * 60 * 23);
            this.$cookies.set('role', authRes.data.role, 60 * 60 * 23);
            this.$cookies.set('phone', authRes.data.phone, 60 * 60 * 23)
            if (this.$cookies.get('phone') == null) {
              this.$cookies.set('phone', 'none')
              this.messagePhone = true
            } else {
              location.reload()
            }
          })
          .catch((error) => {
            console.log(error);
            console.log('Ошибка авторизации');
          });
    },
    toggleMenu() {
      this.menuMobile = !this.menuMobile;
    },
    toggleLogin() {
      this.loginBar = !this.loginBar;
    },
    onClickOutsideMenu() {
      if (this.menuMobile === true) {
        this.menuMobile = !this.menuMobile;
      }
    },
    onClickOutsideLogin() {
      if (this.loginBar === true) {
        this.loginBar = !this.loginBar;
      }
    },
  },
  directives: {
    clickOutside: vClickOutside.directive,
  },
};
</script>
